---
title: Ключевое слово final
description: Все про ключевое слово final
sidebar:
  order: 14
---

import { Aside, Tab, Tabs } from '@astrojs/starlight/components'

<Aside>
Ключевое слово `final` предотвращает дальнейшее наследование классов и переопределение виртуальных функций, обеспечивая безопасность и предсказуемость поведения программ.
</Aside>

## Введение
Ключевое слово `final` используется для предотвращения наследования от класса или переопределения виртуальной функции. Это помогает разработчикам контролировать и ограничивать возможности расширения кода, обеспечивая предсказуемость и стабильность поведения программы.

## Использование `final` с классами

### Определение и назначение
Если класс объявлен с использованием `final`, он не может быть использован как базовый класс. Это может быть полезно для предотвращения нежелательного наследования, когда класс не предназначен для дальнейшего расширения.

### Синтаксис
```cpp
class Base final {
    // Класс не может быть унаследован
};
```

### Пример использования
```cpp
class Base final {
public:
    void display() {
        std::cout << "Base class" << std::endl;
    }
};

// Следующий код вызовет ошибку компиляции
// class Derived : public Base {
// };

int main() {
    Base b;
    b.display(); // вывод: Base class
}
```
В этом примере класс `Base` объявлен с ключевым словом `final`, что предотвращает его наследование.

## Использование `final` с виртуальными функциями

### Определение и назначение
Если виртуальная функция объявлена с использованием `final`, она не может быть переопределена в производных классах. Это полезно для предотвращения изменений в реализации функции, когда это не требуется или нежелательно.

### Синтаксис
```cpp
class Base {
public:
    virtual void func() final;
};
```

### Пример использования
```cpp
class Base {
public:
    virtual void display() final {
        std::cout << "Base class display" << std::endl;
    }
};

class Derived : public Base {
public:
    // Следующий код вызовет ошибку компиляции
    // void display() override {
    //     std::cout << "Derived class display" << std::endl;
    // }
};

int main() {
    Derived d;
    d.display(); // вывод: Base class display
}
```
В этом примере метод `display` в классе `Base` объявлен с ключевым словом `final`, что предотвращает его переопределение в классе `Derived`.

## Резюме
- Ключевое слово `final` предотвращает наследование классов и переопределение виртуальных функций.
- Использование `final` помогает обеспечить предсказуемость и стабильность поведения программы, предотвращая нежелательные изменения.
- Применение `final` на уровне классов и функций позволяет более строго контролировать архитектуру и дизайн кода, что может улучшить его безопасность и поддержку.
