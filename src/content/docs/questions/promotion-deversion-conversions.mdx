---
title: Повышающие и понижающие преобразования
description: Описание повышающих и понижающих преобразований
sidebar:
  order: 23
---

import { Aside, Tab, Tabs } from '@astrojs/starlight/components'

<Aside>
Повышающее преобразование в C++ увеличивает размер типа данных, например, `int` к `float`, тогда как понижающее преобразование уменьшает размер типа данных, например, `double` к `int`.
</Aside>

## Введение
Преобразование типов в C++ позволяет изменять тип данных выражений. Оно бывает двух видов: повышающее и понижающее преобразование.

## Повышающее преобразование

### Определение
Повышающее преобразование (promotion) изменяет значение меньшего типа данных на больший тип. Это преобразование обычно безопасно, так как оно не теряет данные.

### Примеры
- `char` к `int`
- `int` к `float`
- `float` к `double`

### Пример 1: Преобразование `int` к `float`
```cpp
#include <iostream>

int main() {
    int num = 42;
    float fnum = num; // повышающее преобразование

    std::cout << "num (int) = " << num << std::endl;
    std::cout << "fnum (float) = " << fnum << std::endl;

    return 0;
}
```

### Вывод
```
num (int) = 42
fnum (float) = 42.000000
```
В этом примере значение `int` преобразуется в `float`.

### Пример 2: Преобразование `char` к `int`
```cpp
#include <iostream>

int main() {
    char ch = 'A';
    int num = ch; // повышающее преобразование

    std::cout << "ch (char) = " << ch << std::endl;
    std::cout << "num (int) = " << num << std::endl;

    return 0;
}
```

### Вывод
```
ch (char) = A
num (int) = 65
```
Здесь `char` преобразуется в `int`, что дает ASCII значение символа.

## Понижающее преобразование

### Определение
Понижающее преобразование (demotion) изменяет значение большего типа данных на меньший тип. Это преобразование может привести к потере данных или точности.

### Примеры
- `double` к `float`
- `float` к `int`
- `int` к `char`

### Пример 1: Преобразование `double` к `float`
```cpp
#include <iostream>

int main() {
    double dnum = 42.123456789;
    float fnum = dnum; // понижающее преобразование

    std::cout << "dnum (double) = " << dnum << std::endl;
    std::cout << "fnum (float) = " << fnum << std::endl;

    return 0;
}
```

### Вывод
```
dnum (double) = 42.123456789
fnum (float) = 42.123455
```
В этом примере часть данных теряется при преобразовании `double` в `float`.

### Пример 2: Преобразование `float` к `int`
```cpp
#include <iostream>

int main() {
    float fnum = 42.75;
    int num = fnum; // понижающее преобразование

    std::cout << "fnum (float) = " << fnum << std::endl;
    std::cout << "num (int) = " << num << std::endl;

    return 0;
}
```

### Вывод
```
fnum (float) = 42.750000
num (int) = 42
```
Здесь дробная часть теряется при преобразовании `float` в `int`.

## Важные замечания

- **Повышающее преобразование**: безопасно, так как не приводит к потере данных. Часто выполняется автоматически компилятором.
- **Понижающее преобразование**: может приводить к потере данных или точности. Рекомендуется явное указание понижающего преобразования для избегания неожиданных результатов.

## Резюме

- **Повышающее преобразование** увеличивает размер типа данных и обычно безопасно.
- **Понижающее преобразование** уменьшает размер типа данных и может приводить к потере данных.
- **Примеры** включают преобразование между `char`, `int`, `float` и `double`.
- **Важность**: понимание этих преобразований помогает предотвратить ошибки при работе с различными типами данных.
